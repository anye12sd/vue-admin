(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AgentChargeList"],{"18b4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-layout",{staticClass:"layout-outbox"},[a("a-layout-sider",{staticClass:"left-nav-box",attrs:{trigger:null,collapsible:""},model:{value:t.collapsed,callback:function(e){t.collapsed=e},expression:"collapsed"}},[a("left-slide-nav",{attrs:{"selected-key":["21"],"opened-key":["sub9"],"show-title":t.collapsed},on:{DrawerStatus:t.getDrawerStatus}})],1),a("a-layout",{staticClass:"layout-box"},[a("a-layout-header",{staticClass:"layout-box-header"},[a("header-nav",{on:{collapsedStatus:t.getCollapsedStatus}})],1),a("div",{staticClass:"table-wrapper"},[a("a-breadcrumb",{staticClass:"layout-box-breadcrumb"},[a("a-breadcrumb-item",[t._v("代理商管理")]),a("a-breadcrumb-item",[t._v("代理商充值记录")])],1),a("a-layout-content",{staticClass:"layout-box-content"},[a("div",{staticClass:"content-top flex"},[a("div",{staticClass:"input-box"},[a("a-input",{attrs:{placeholder:"请输入订单编号",allowClear:!0},on:{change:function(e){return t.fresh(e)}},model:{value:t.outTradeNo,callback:function(e){t.outTradeNo=e},expression:"outTradeNo"}})],1),a("div",{staticClass:"input-box"},[a("a-input",{attrs:{placeholder:"请输入代理商账号",allowClear:!0},on:{change:function(e){return t.fresh(e)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("div",{staticClass:"content-top-select"},[a("a-range-picker",{attrs:{placeholder:["开始时间","结束时间"]},model:{value:t.timeSelect,callback:function(e){t.timeSelect=e},expression:"timeSelect"}})],1),a("div",{staticClass:"content-top-btn"},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.searchContent}})],1),a("div",{staticClass:"content-top-btn"},[a("a-button",{attrs:{type:"primary",icon:"reload"},on:{click:t.refreshTable}})],1)]),a("agent-charge-list-table",{key:t.timer,staticStyle:{"margin-top":"20px"}})],1),a("Copyright")],1)],1)],1),a("left-drawer",{attrs:{LeftDrawerShow:t.LeftDrawerShow}})],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{staticClass:"table-content",attrs:{columns:t.columns,"row-key":function(t){return t.outTradeNo},"data-source":t.data,pagination:t.pagination,loading:t.loading,customRow:t.clickRow,rowClassName:t.addRowClass},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"recvUser",fn:function(e){return[a("span",{staticClass:"table-content-span-ellipsis",attrs:{title:e}},[t._v(" "+t._s(e)+" ")])]}},{key:"addTime",fn:function(e){return[a("span",{attrs:{title:new Date(e).toLocaleString()}},[t._v(" "+t._s(new Date(e).toLocaleString())+" ")])]}}])})],1)},i=[],r=a("2909"),l=a("5530"),c=[{title:"充值订单号",dataIndex:"outTradeNo",width:"10%",scopedSlots:{customRender:"outTradeNo"}},{title:"代理商账号",dataIndex:"agentUsername",width:"15%",scopedSlots:{customRender:"agentUsername"}},{title:"代理商姓名",dataIndex:"agentName",width:"15%",scopedSlots:{customRender:"agentName"}},{title:"代理商公司名称",dataIndex:"agentEntName",width:"15%",scopedSlots:{customRender:"agentEntName"}},{title:"充值金额",dataIndex:"rechargeAmount",width:"15%",scopedSlots:{customRender:"rechargeAmount"}},{title:"入账金额",dataIndex:"income",width:"15%",scopedSlots:{customRender:"income"}},{title:"充值时间",dataIndex:"addTime",width:"15%",scopedSlots:{customRender:"addTime"}}],d={name:"AgentChargeListTable",data:function(){return{console:!1,visible:!1,data:[],pagination:{page:1,current:1},loading:!1,columns:c,selectedNo:"",drawerContent:{recvEnt:"",recvUser:"",content:"",addTime:""}}},mounted:function(){this.fetch()},methods:{handleTableChange:function(t,e,a){var n=Object(l["a"])({},this.pagination);n.current=t.current,this.pagination=n,this.fetch(Object(l["a"])({results:t.pageSize,page:t.current,sortField:a.field,sortOrder:a.order},e))},fetch:function(){var t=this,e={pageSize:10,page:this.pagination.current};if(sessionStorage.getItem("siteParams")){var a=JSON.parse(sessionStorage.getItem("siteParams"));a.startDate&&a.endDate||(delete a.startDate,delete a.endDate),e=Object(l["a"])(Object(l["a"])({},e),a)}console.log("params:",e),this.loading=!0,this.$api.GetAgentChargeList(e).then((function(e){if(0==e.data.code&&"success"==e.data.msg){t.loading=!1;var a=Object(l["a"])({},t.pagination);a.total=e.data.data.count,t.data=e.data.data.list,t.pagination=a,t.console&&console.log(e)}else t.$message.error(e.data.msg)})).catch((function(t){console.log(t)}))},onDelete:function(t){var e=Object(r["a"])(this.data);this.console&&console.log(e,t)},showDrawer:function(t){this.visible=!0,this.drawerContent=t},onClose:function(){this.visible=!1},clickRow:function(t){var e=this;return{on:{click:function(){e.selectedNo=t.outTradeNo}}}},addRowClass:function(t){var e="";return t.outTradeNo===this.selectedNo&&(e="selected-tr"),e}}},u=d,h=(a("e9b8"),a("2877")),m=Object(h["a"])(u,o,i,!1,null,"29aab0ad",null),p=m.exports,g={name:"AgentChargeList",components:{AgentChargeListTable:p},data:function(){return{console:!1,collapsed:!1,LeftDrawerShow:!1,outTradeNo:"",username:"",timeSelect:void 0,timer:1}},mounted:function(){this.searchContent()},methods:{getCollapsedStatus:function(t){this.collapsed=t},getDrawerStatus:function(t){this.LeftDrawerShow=t},refreshTable:function(){this.timer=(new Date).getTime()},searchContent:function(){var t={outTradeNo:this.outTradeNo,username:this.username,startTime:this.timeSelect&&this.timeSelect[0].format("YYYY-MM-DD"),endTime:this.timeSelect&&this.timeSelect[1].format("YYYY-MM-DD")};sessionStorage.setItem("siteParams",JSON.stringify(t)),this.timer=(new Date).getTime()},fresh:function(t){""==t.target.value&&this.searchContent()}}},f=g,b=Object(h["a"])(f,n,s,!1,null,"3e7a933a",null);e["default"]=b.exports},"4b4f":function(t,e,a){},e9b8:function(t,e,a){"use strict";var n=a("4b4f"),s=a.n(n);s.a}}]);