(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e34596c"],{2909:function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function i(t){if(Array.isArray(t))return a(t)}n.d(e,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("fb6a"),n("b0c0"),n("25f0");function o(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||r(t)||o(t)||s()}},"3ca3":function(t,e,n){"use strict";var a=n("6547").charAt,i=n("69f3"),r=n("7dd0"),o="String Iterator",s=i.set,c=i.getterFor(o);r(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=a(n,i),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,n){"use strict";var a=n("0366"),i=n("7b0b"),r=n("9bdd"),o=n("e95a"),s=n("50c4"),c=n("8418"),l=n("35a1");t.exports=function(t){var e,n,d,u,f,p,g=i(t),h="function"==typeof this?this:Array,b=arguments.length,y=b>1?arguments[1]:void 0,v=void 0!==y,m=l(g),S=0;if(v&&(y=a(y,b>2?arguments[2]:void 0,2)),void 0==m||h==Array&&o(m))for(e=s(g.length),n=new h(e);e>S;S++)p=v?y(g[S],S):g[S],c(n,S,p);else for(u=m.call(g),f=u.next,n=new h;!(d=f.call(u)).done;S++)p=v?r(u,y,[d.value,S],!0):d.value,c(n,S,p);return n.length=S,n}},8079:function(t,e,n){"use strict";var a=n("c79a"),i=n.n(a);i.a},a630:function(t,e,n){var a=n("23e7"),i=n("4df4"),r=n("1c7e"),o=!r((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:i})},b9a7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-table",{staticClass:"table-content",attrs:{columns:t.columns,"row-key":function(t){return t.layoutId},"data-source":t.data,pagination:t.pagination,loading:t.loading,customRow:t.clickRow,rowClassName:t.addRowClass},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"layoutId",fn:function(e){return[n("span",[t._v(" "+t._s(e)+" "),n("a",{key:t.site,attrs:{href:"http://pc."+t.site+"/rest/site/"+e+"/index",target:"_blank"}},[t._v("[查看]")])])]}},{key:"weixinNumber",fn:function(e,a){return[a.editable?n("div",{key:t.editingKey,staticClass:"change-number-box"},[n("a-input",{attrs:{type:"text",placeholder:"请输入编号"},model:{value:t.inputId,callback:function(e){t.inputId=e},expression:"inputId"}}),n("div",{staticClass:"change-number-btn flex"},[n("a",{staticClass:"flex-1",attrs:{href:"javascript:;"},on:{click:function(e){return t.saveEdit(a.layoutId)}}},[t._v("保存")]),n("a",{staticClass:"flex-1",attrs:{href:"javascript:;"},on:{click:function(e){return t.cancelEdit(a.layoutId)}}},[t._v("取消")])])],1):t._e(),a.editable?t._e():n("span",{key:t.editingKey,attrs:{title:a.weixinNumber?a.weixinNumber:""}},[t._v(" "+t._s(a.weixinNumber?a.weixinNumber:"")+" "),n("a",{staticClass:"table-content-a",attrs:{href:"javascript:;",disabled:""!==t.editingKey},on:{click:function(e){return t.editList(a.layoutId)}}},[t._v("[编辑]")])])]}},{key:"payState",fn:function(e){return[n("span",{staticClass:"table-content-span-ellipsis",attrs:{title:t.getPayState(e)}},[t._v(" "+t._s(t.getPayState(e))+" ")])]}},{key:"logTime",fn:function(e){return[n("span",{staticClass:"table-content-span-ellipsis",attrs:{title:new Date(e).toLocaleString()}},[t._v(" "+t._s(new Date(e).toLocaleString())+" ")])]}},{key:"endTime",fn:function(e){return[n("span",{staticClass:"table-content-span-ellipsis",attrs:{title:new Date(e).toLocaleString()}},[t._v(" "+t._s(new Date(e).toLocaleString())+" ")])]}}])})},i=[],r=(n("4de4"),n("2909")),o=n("5530"),s=[{title:"站点编号",dataIndex:"layoutId",width:"10%",scopedSlots:{customRender:"layoutId"}},{title:"微信群编号",dataIndex:"weixinNumber",width:"15%",scopedSlots:{customRender:"weixinNumber"}},{title:"是否付费",dataIndex:"payState",width:"15%",scopedSlots:{customRender:"payState"}},{title:"最近操作时间",dataIndex:"logTime",width:"20%",scopedSlots:{customRender:"logTime"}},{title:"到期时间",dataIndex:"endTime",width:"20%",scopedSlots:{customRender:"endTime"}},{title:"原始注册手机号码",dataIndex:"registerCellphone",width:"20%",scopedSlots:{customRender:"registerCellphone"}}],c={name:"SiteListTable",prop:["site"],data:function(){return{console:!1,data:[],pagination:{page:1,current:1},loading:!1,columns:s,selectedNo:"",editingKey:"",inputId:"",site:""}},mounted:function(){this.fetch()},methods:{handleTableChange:function(t,e,n){var a=Object(o["a"])({},this.pagination);a.current=t.current,this.pagination=a,this.fetch(Object(o["a"])({results:t.pageSize,page:t.current,sortField:n.field,sortOrder:n.order},e))},fetch:function(){var t=this,e={pageSize:10,page:this.pagination.current,domain:"",payType:"00",weixinNumber:""};if(sessionStorage.getItem("siteParams")){var n=JSON.parse(sessionStorage.getItem("siteParams"));e=Object(o["a"])(Object(o["a"])({},e),n),this.site=e.domain}this.console&&console.log("params:",e),this.loading=!0,this.$api.getSiteList(e).then((function(e){if(0==e.data.code&&"success"==e.data.msg){t.loading=!1;var n=Object(o["a"])({},t.pagination);n.total=e.data.data.count,t.data=e.data.data.layoutList,t.pagination=n,t.console&&console.log(e)}else t.$message.error(e.data.msg)})).catch((function(t){console.log(t)}))},clickRow:function(t){var e=this;return{on:{click:function(){e.selectedNo=t.layoutId}}}},addRowClass:function(t){var e="";return t.layoutId===this.selectedNo&&(e="selected-tr"),e},getPayState:function(t){var e;switch(t){case"00":e="否";break;case"01":e="是";break;default:e="其它";break}return e},editList:function(t){var e=Object(r["a"])(this.data),n=e.filter((function(e){return t===e.layoutId}))[0];console.log(e),this.editingKey=t,n&&(n.editable=!0,this.inputId=n.weixinNumber||"")},cancelEdit:function(t){var e=Object(r["a"])(this.data),n=e.filter((function(e){return t===e.layoutId}))[0];n&&(delete n.editable,this.inputId=""),this.editingKey=""},saveEdit:function(t){var e=this,n=Object(r["a"])(this.data),a=n.filter((function(e){return t===e.layoutId}))[0];if(this.editingKey="",a){var i={layoutId:a.layoutId,weixinNumber:this.inputId};this.console&&console.log(i),this.$api.editWeixinNumber(i).then((function(t){e.console&&console.log(t),0==t.data.code&&"success"==t.data.msg?(e.$message.success("编辑成功"),e.$emit("refresh",(new Date).getTime())):e.$message.error(t.data.msg)})).catch((function(t){console.log(t)})),delete a.editable}}}},l=c,d=(n("8079"),n("2877")),u=Object(d["a"])(l,a,i,!1,null,"dba076b0",null);e["default"]=u.exports},c79a:function(t,e,n){},d28b:function(t,e,n){var a=n("746f");a("iterator")},ddb0:function(t,e,n){var a=n("da84"),i=n("fdbc"),r=n("e260"),o=n("9112"),s=n("b622"),c=s("iterator"),l=s("toStringTag"),d=r.values;for(var u in i){var f=a[u],p=f&&f.prototype;if(p){if(p[c]!==d)try{o(p,c,d)}catch(h){p[c]=d}if(p[l]||o(p,l,u),i[u])for(var g in r)if(p[g]!==r[g])try{o(p,g,r[g])}catch(h){p[g]=r[g]}}}},e01a:function(t,e,n){"use strict";var a=n("23e7"),i=n("83ab"),r=n("da84"),o=n("5135"),s=n("861d"),c=n("9bf2").f,l=n("e893"),d=r.Symbol;if(i&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new d(t):void 0===t?d():d(t);return""===t&&(u[e]=!0),e};l(f,d);var p=f.prototype=d.prototype;p.constructor=f;var g=p.toString,h="Symbol(test)"==String(d("test")),b=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=g.call(t);if(o(u,t))return"";var n=h?e.slice(7,-1):e.replace(b,"$1");return""===n?void 0:n}}),a({global:!0,forced:!0},{Symbol:f})}},fb6a:function(t,e,n){"use strict";var a=n("23e7"),i=n("861d"),r=n("e8b5"),o=n("23cb"),s=n("50c4"),c=n("fc6a"),l=n("8418"),d=n("b622"),u=n("1dde"),f=n("ae40"),p=u("slice"),g=f("slice",{ACCESSORS:!0,0:0,1:2}),h=d("species"),b=[].slice,y=Math.max;a({target:"Array",proto:!0,forced:!p||!g},{slice:function(t,e){var n,a,d,u=c(this),f=s(u.length),p=o(t,f),g=o(void 0===e?f:e,f);if(r(u)&&(n=u.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return b.call(u,p,g);for(a=new(void 0===n?Array:n)(y(g-p,0)),d=0;p<g;p++,d++)p in u&&l(a,d,u[p]);return a.length=d,a}})}}]);