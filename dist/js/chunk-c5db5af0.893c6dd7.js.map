{"version":3,"sources":["webpack:///./src/components/SiteListTable.vue?9937","webpack:///src/components/SiteListTable.vue","webpack:///./src/components/SiteListTable.vue?d311","webpack:///./src/components/SiteListTable.vue","webpack:///./src/components/SiteListTable.vue?206b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","columns","record","layoutId","data","pagination","loading","clickRow","addRowClass","on","handleTableChange","scopedSlots","_u","key","fn","_v","_s","site","text","editingKey","model","value","callback","$$v","inputId","expression","$event","saveEdit","cancelEdit","_e","editable","weixinNumber","editList","payState","getPayState","logTime","Date","toLocaleString","staticRenderFns","component"],"mappings":"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","file":"js/chunk-c5db5af0.893c6dd7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-table',{staticClass:\"table-content\",attrs:{\"columns\":_vm.columns,\"row-key\":function (record) { return record.layoutId; },\"data-source\":_vm.data,\"pagination\":_vm.pagination,\"loading\":_vm.loading,\"customRow\":_vm.clickRow,\"rowClassName\":_vm.addRowClass},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"layoutId\",fn:function(layoutId){return [_c('span',{staticClass:\"table-content-span-ellipsis\"},[_vm._v(\" \"+_vm._s(layoutId)+\" \"),_c('a',{key:_vm.site,attrs:{\"href\":'http://pc.'+_vm.site+'/rest/site/'+layoutId+'/index',\"target\":\"_blank\"}},[_vm._v(\"[查看]\")])])]}},{key:\"weixinNumber\",fn:function(text, record){return [(record.editable)?_c('div',{key:_vm.editingKey,staticClass:\"change-number-box\"},[_c('a-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入编号\"},model:{value:(_vm.inputId),callback:function ($$v) {_vm.inputId=$$v},expression:\"inputId\"}}),_c('div',{staticClass:\"change-number-btn flex\"},[_c('a',{staticClass:\"flex-1\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.saveEdit(record.layoutId)}}},[_vm._v(\"保存\")]),_c('a',{staticClass:\"flex-1\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.cancelEdit(record.layoutId)}}},[_vm._v(\"取消\")])])],1):_vm._e(),(!record.editable)?_c('span',{key:_vm.editingKey,staticClass:\"table-content-span-ellipsis\",attrs:{\"title\":record.weixinNumber ? record.weixinNumber : ''}},[_vm._v(\" \"+_vm._s(record.weixinNumber ? record.weixinNumber : '')+\" \"),_c('a',{staticClass:\"table-content-a\",attrs:{\"href\":\"javascript:;\",\"disabled\":_vm.editingKey !== ''},on:{\"click\":function($event){return _vm.editList(record.layoutId)}}},[_vm._v(\"[编辑]\")])]):_vm._e()]}},{key:\"payState\",fn:function(payState){return [_c('span',{staticClass:\"table-content-span-ellipsis\",attrs:{\"title\":_vm.getPayState(payState)}},[_vm._v(\" \"+_vm._s(_vm.getPayState(payState))+\" \")])]}},{key:\"logTime\",fn:function(logTime){return [_c('span',{staticClass:\"table-content-span-ellipsis\",attrs:{\"title\":new Date(logTime).toLocaleString()}},[_vm._v(\" \"+_vm._s(new Date(logTime).toLocaleString())+\" \")])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <a-table\n            class=\"table-content\"\n            :columns=\"columns\"\n            :row-key=\"record => record.layoutId\"\n            :data-source=\"data\"\n            :pagination=\"pagination\"\n            :loading=\"loading\"\n            :customRow=\"clickRow\"\n            :rowClassName=\"addRowClass\"\n            @change=\"handleTableChange\"\n    >\n        <template slot=\"layoutId\" slot-scope=\"layoutId\">\n      <span class=\"table-content-span-ellipsis\">\n        {{ layoutId }}\n          <a :href=\"'http://pc.'+site+'/rest/site/'+layoutId+'/index'\" target=\"_blank\" :key=\"site\">[查看]</a>\n      </span>\n        </template>\n        <template slot=\"weixinNumber\" slot-scope=\"text, record\">\n            <div class=\"change-number-box\" v-if=\"record.editable\" :key=\"editingKey\">\n                <a-input type=\"text\" placeholder=\"请输入编号\" v-model=\"inputId\"></a-input>\n                <div class=\"change-number-btn flex\">\n                    <a href=\"javascript:;\" class=\"flex-1\" @click=\"saveEdit(record.layoutId)\">保存</a>\n                    <a href=\"javascript:;\" class=\"flex-1\" @click=\"cancelEdit(record.layoutId)\">取消</a>\n                </div>\n            </div>\n            <span class=\"table-content-span-ellipsis\" :title=\"record.weixinNumber ? record.weixinNumber : ''\"\n                  v-if=\"!record.editable\" :key=\"editingKey\">\n        {{ record.weixinNumber ? record.weixinNumber : '' }}\n          <a href=\"javascript:;\" class=\"table-content-a\" @click=\"editList(record.layoutId)\"\n             :disabled=\"editingKey !== ''\">[编辑]</a>\n      </span>\n        </template>\n        <template slot=\"payState\" slot-scope=\"payState\">\n      <span class=\"table-content-span-ellipsis\" :title=\" getPayState(payState) \">\n        {{ getPayState(payState) }}\n      </span>\n        </template>\n        <template slot=\"logTime\" slot-scope=\"logTime\">\n      <span class=\"table-content-span-ellipsis\" :title=\"new Date(logTime).toLocaleString()\">\n        {{ new Date(logTime).toLocaleString() }}\n      </span>\n        </template>\n        <!--<template slot=\"operation\" slot-scope=\"text, record\">-->\n        <!--<a href=\"javascript:;\" class=\"table-content-a\">查看</a>-->\n        <!--<a-popconfirm-->\n        <!--v-if=\"data.length\"-->\n        <!--title=\"Sure to delete?\"-->\n        <!--@confirm=\"() => onDelete(record.layoutId)\"-->\n        <!--&gt;-->\n        <!--<a href=\"javascript:;\" class=\"table-content-a\">删除</a>-->\n        <!--</a-popconfirm>-->\n        <!--</template>-->\n    </a-table>\n</template>\n<script>\n\n    const columns = [\n        {\n            title: '站点编号',\n            dataIndex: 'layoutId',\n            width: '10%',\n            scopedSlots: {customRender: 'layoutId'},\n        },\n        {\n            title: '微信群编号',\n            dataIndex: 'weixinNumber',\n            width: '15%',\n            scopedSlots: {customRender: 'weixinNumber'},\n        },\n        {\n            title: '是否付费',\n            dataIndex: 'payState',\n            width: '15%',\n            scopedSlots: {customRender: 'payState'},\n        },\n        {\n            title: '最近操作时间',\n            dataIndex: 'logTime',\n            width: '20%',\n            scopedSlots: {customRender: 'logTime'},\n        },\n        {\n            title: '原始注册手机号码',\n            dataIndex: 'registerCellphone',\n            width: '20%',\n            scopedSlots: {customRender: 'registerCellphone'},\n        }\n    ];\n\n    export default {\n        name: 'SiteListTable',\n        prop: ['site'],\n        data() {\n            return {\n                console: false,\n                data: [],\n                pagination: {page: 1, current: 1},\n                loading: false,\n                columns,\n                selectedNo: \"\",\n                editingKey: \"\",\n                inputId: \"\",\n                site: \"\",\n            };\n        },\n        mounted() {\n            this.fetch();\n        },\n        methods: {\n            handleTableChange(pagination, filters, sorter) {\n                const pager = {...this.pagination};\n                pager.current = pagination.current;\n                this.pagination = pager;\n                this.fetch({\n                    results: pagination.pageSize,\n                    page: pagination.current,\n                    sortField: sorter.field,\n                    sortOrder: sorter.order,\n                    ...filters,\n                });\n            },\n            fetch() {\n                let params = {\n                    pageSize: 10,\n                    page: this.pagination.current,\n                    domain: \"\",\n                    payType: \"00\",\n                    weixinNumber: \"\"\n                }\n                if (sessionStorage.getItem(\"siteParams\")) {\n                    let siteParams = JSON.parse(sessionStorage.getItem(\"siteParams\"))\n                    // params.domain = siteParams.domain || \"ykyh.com\"\n                    // params.payType = siteParams.payType || \"00\"\n                    // params.weixinNumber = siteParams.weixinNumber\n                    params = {...params, ...siteParams}\n                    this.site = params.domain\n                }\n                this.console && console.log('params:', params);\n                this.loading = true;\n                this.$api.getSiteList(params)\n                    .then((data) => {\n                        this.loading = false\n                        const pagination = {...this.pagination};\n                        pagination.total = data.data.data.count\n                        this.data = data.data.data.layoutList\n                        this.pagination = pagination\n                        this.console && console.log(data)\n                    })\n                    .catch((err) => {\n                        console.log(err)\n                    })\n            },\n            clickRow(record) {\n                return {\n                    on: {\n                        click: () => {\n                            this.selectedNo = record.layoutId\n                        }\n                    }\n                }\n            },\n            addRowClass(key) {\n                var styleClassName = \"\"\n                if (key.layoutId === this.selectedNo) {\n                    styleClassName = \"selected-tr\"\n                }\n                return styleClassName\n            },\n            getPayState(type) {\n                var payState\n                switch (type) {\n                    case \"00\":\n                        payState = \"否\";\n                        break;\n                    case \"01\":\n                        payState = \"是\"\n                        break;\n                    default:\n                        payState = \"其它\"\n                        break;\n                }\n                return payState\n            },\n            editList(key) {\n                const data = [...this.data]\n                // this.showEditBox = true\n                const target = data.filter(item => key === item.layoutId)[0];\n                console.log(data)\n                this.editingKey = key;\n                if (target) {\n                    target.editable = true;\n                    this.inputId = target.weixinNumber || \"\"\n                }\n            },\n            cancelEdit(key) {\n                const data = [...this.data]\n                // this.showEditBox = true\n                const target = data.filter(item => key === item.layoutId)[0];\n                if (target) {\n                    delete target.editable;\n                    this.inputId = \"\"\n                }\n                this.editingKey = \"\";\n            },\n            saveEdit(key) {\n                const data = [...this.data]\n                // this.showEditBox = true\n                const target = data.filter(item => key === item.layoutId)[0];\n                this.editingKey = \"\";\n                if (target) {\n                    let params = {\"layoutId\": target.layoutId, \"weixinNumber\": this.inputId}\n                    this.console && console.log(params)\n                    this.$api.editWeixinNumber(params)\n                        .then((data) => {\n                            this.console && console.log(data)\n                            if (data.data.code == 0 && data.data.msg == \"success\") {\n                                this.$message.success(\"编辑成功\")\n                                this.$emit('refresh', new Date().getTime())\n                            } else {\n                                this.$message.error(data.data.msg)\n                            }\n                        })\n                        .catch((err) => {\n                            console.log(err)\n                        })\n                    delete target.editable;\n                }\n            }\n        },\n    };\n</script>\n\n<style scoped>\n    .table-content {\n        min-width: 1104px;\n    }\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SiteListTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SiteListTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SiteListTable.vue?vue&type=template&id=e64d0b9a&scoped=true&\"\nimport script from \"./SiteListTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SiteListTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SiteListTable.vue?vue&type=style&index=0&id=e64d0b9a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e64d0b9a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SiteListTable.vue?vue&type=style&index=0&id=e64d0b9a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SiteListTable.vue?vue&type=style&index=0&id=e64d0b9a&scoped=true&lang=css&\""],"sourceRoot":""}