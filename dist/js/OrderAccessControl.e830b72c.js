(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OrderAccessControl"],{af92:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-layout",{staticClass:"layout-outbox"},[a("a-layout-sider",{staticClass:"left-nav-box",attrs:{trigger:null,collapsible:""},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[a("left-slide-nav",{attrs:{"selected-key":["8"],"opened-key":["sub7"],"show-title":e.collapsed},on:{DrawerStatus:e.getDrawerStatus}})],1),a("a-layout",{staticClass:"layout-box"},[a("a-layout-header",{staticClass:"layout-box-header"},[a("header-nav",{on:{collapsedStatus:e.getCollapsedStatus}})],1),a("a-breadcrumb",{staticClass:"layout-box-breadcrumb"},[a("a-breadcrumb-item",[e._v("订单管理系统")]),a("a-breadcrumb-item",[e._v("权限管理")])],1),a("a-layout-content",{staticClass:"layout-box-content"},[a("div",{staticClass:"content-top flex"},[a("div",{staticClass:"content-top-btn",staticStyle:{"margin-right":"8px"}},[a("a-button",{attrs:{type:"primary"},on:{click:e.showModal}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 添加权限 ")],1)],1),a("div",{staticClass:"input-box"},[a("a-input",{attrs:{placeholder:"请输入用户名",allowClear:!0},on:{change:function(t){return e.fresh(t)}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("div",{staticClass:"content-top-btn"},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchData}})],1),a("div",{staticClass:"content-top-btn"},[a("a-button",{attrs:{type:"primary",icon:"reload"},on:{click:e.refreshTable}})],1)]),a("order-access-control-table",{key:e.timer,staticStyle:{"margin-top":"20px"},on:{refresh:e.refreshTable}})],1),a("Copyright")],1)],1),a("left-drawer",{attrs:{LeftDrawerShow:e.LeftDrawerShow}}),a("a-modal",{attrs:{title:"添加权限",centered:"",okText:"提交",cancelText:"取消"},on:{ok:e.submitForm},model:{value:e.modal2Visible,callback:function(t){e.modal2Visible=t},expression:"modal2Visible"}},[a("a-form-model",{ref:"adminForm",attrs:{rules:e.rules,model:e.form,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{attrs:{label:"用户帐号",prop:"name"}},[a("a-input",{attrs:{placeholder:"用户帐号"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("a-form-model-item",{attrs:{label:"权限",prop:"state"}},[a("a-select",{attrs:{placeholder:"请选择"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[a("a-select-option",{attrs:{value:"01"}},[e._v(" 订单管理 ")]),a("a-select-option",{attrs:{value:"02"}},[e._v(" 权限管理 ")]),a("a-select-option",{attrs:{value:"03"}},[e._v(" 代理商补单 ")])],1)],1)],1)],1)],1)},s=[],l=(a("d3b7"),function(){return a.e("chunk-049c36ff").then(a.bind(null,"c0d9"))}),r={name:"OrderAccessControl",components:{OrderAccessControlTable:l},data:function(){return{console:!1,collapsed:!1,labelCol:{span:4},wrapperCol:{span:16},LeftDrawerShow:!1,timer:1,username:"",modal2Visible:!1,form:{name:"",description:""},rules:{description:[{required:!1,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入用户名",trigger:"blur"}]}}},mounted:function(){this.searchData()},methods:{submitForm:function(){var e=this;this.$refs.adminForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.console&&console.log("submit!",e.form);var a=e.form;e.$api.addAccessControlAdmin(a).then((function(t){e.console&&console.log(t),0==t.data.code&&"success"==t.data.msg?(e.$message.success("添加成功"),e.timer=(new Date).getTime(),e.modal2Visible=!e.modal2Visible):e.$message.error(t.data.msg)})).catch((function(e){console.log(e)}))}))},getCollapsedStatus:function(e){this.collapsed=e},getDrawerStatus:function(e){this.LeftDrawerShow=e},refreshTable:function(){this.timer=(new Date).getTime()},searchData:function(){this.timer=(new Date).getTime()},fresh:function(e){""==e.target.value&&this.searchData()},showModal:function(){this.modal2Visible=!this.modal2Visible}}},n=r,i=a("2877"),c=Object(i["a"])(n,o,s,!1,null,"b066ef00",null);t["default"]=c.exports}}]);